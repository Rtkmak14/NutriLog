<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%=user.username%>'s Page</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Alumni+Sans+SC:ital,wght@0,100..900;1,100..900&family=Bebas+Neue&family=Bungee&display=swap" rel="stylesheet">
</head>
<body>
  <%- include('../partials/navbar.ejs') %>

  <%if (user.foods.length===0) { %>
    <h1>User hasn't logged any foods yet!</h1>
  <%} else { %>

    <h1><%=user.username%></h1>

    <div class="tile-container">
      <% if (user.foods.some((food) => food.foodType === "meat")) { %>
        <div class="tile">
        <h2>Meat</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "meat") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "fish")) { %>
        <div class="tile">
        <h2>Fish</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "fish") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "dairy")) { %>
        <div class="tile">
        <h2>Dairy</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "dairy") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "vegetable")) { %>
        <div class="tile">
        <h2>Vegetable</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "vegetable") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "fruit")) { %>
        <div class="tile">
        <h2>Fruit</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "fruit") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "grain")) { %>
        <div class="tile">
        <h2>Grain</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "grain") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "legume")) { %>
        <div class="tile">
        <h2>Legume</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "legume") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "nut")) { %>
        <div class="tile">
        <h2>Nut</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "nut") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "seed")) { %>
        <div class="tile">
        <h2>Seed</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "seed") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "oil")) { %>
        <div class="tile">
        <h2>Oil</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "oil") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "sweetener")) { %>
        <div class="tile">
        <h2>Sweetener</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "sweetener") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "beverage")) { %>
        <div class="tile">
        <h2>Beverage</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "beverage") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "condiment")) { %>
        <div class="tile">
        <h2>Condiment</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "condiment") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "supplement")) { %>
        <div class="tile">
        <h2>Supplement</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "supplement") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "processed")) { %>
        <div class="tile">
        <h2>Processed</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "processed") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% } %>

      <% if (user.foods.some((food) => food.foodType === "other")) { %>
        <div class="tile">
        <h2>Other</h2>
          <ul>
            <% user.foods.forEach((food) => { if (food.foodType === "other") { %>
            <li><%= food.name %></li>
            <ul>
              <li><%=food.brand%></li>
            </ul>
            <% }}); %>
          </ul>
        </div>
      <% }
        } %>
  </div>
</body>
</html>